{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UpdateUserComponent = class UpdateUserComponent {\n  constructor(userService, route) {\n    this.userService = userService;\n    this.route = route;\n    this.user = {};\n    this.imageError = null;\n    this.profilePictureInvalid = false;\n  }\n  ngOnInit() {\n    const userId = this.route.snapshot.paramMap.get('id');\n    if (userId) {\n      this.userService.getUserById(userId).subscribe(data => {\n        this.user = data;\n      });\n    }\n  }\n  onFileChange(event) {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.user.profilePicture = reader.result.split(',')[1]; // Remove the base64 prefix\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }\n  onSubmit() {\n    // this.userService.updateUser(this.user).subscribe(response => {\n    //   alert('User updated successfully');\n    // }, error => {\n    //   console.error('Error updating user', error);\n    //   alert('Failed to update user');\n    // });\n  }\n};\nUpdateUserComponent = __decorate([Component({\n  selector: 'app-update-user',\n  templateUrl: './update-user.component.html',\n  styleUrls: ['./update-user.component.css']\n})], UpdateUserComponent);","map":{"version":3,"names":["Component","UpdateUserComponent","constructor","userService","route","user","imageError","profilePictureInvalid","ngOnInit","userId","snapshot","paramMap","get","getUserById","subscribe","data","onFileChange","event","target","files","length","file","reader","FileReader","onload","profilePicture","result","split","readAsDataURL","onSubmit","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\petri\\OneDrive\\Desktop\\pia projekat\\frontend\\src\\app\\components\\update-user\\update-user.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-update-user',\n  templateUrl: './update-user.component.html',\n  styleUrls: ['./update-user.component.css']\n})\nexport class UpdateUserComponent {\n  user: any = {};\n  imageError: string | null = null;\n  profilePictureInvalid: boolean = false;\n\n  constructor(private userService: UserService, private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    const userId = this.route.snapshot.paramMap.get('id');\n    if (userId) {\n      this.userService.getUserById(userId).subscribe(data => {\n        this.user = data;\n      });\n    }\n  }\n\n  onFileChange(event: any): void {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.user.profilePicture = (reader.result as string).split(',')[1]; // Remove the base64 prefix\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n\n  onSubmit(): void {\n    // this.userService.updateUser(this.user).subscribe(response => {\n    //   alert('User updated successfully');\n    // }, error => {\n    //   console.error('Error updating user', error);\n    //   alert('Failed to update user');\n    // });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAK9BC,YAAoBC,WAAwB,EAAUC,KAAqB;IAAvD,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,KAAK,GAALA,KAAK;IAJ3D,KAAAC,IAAI,GAAQ,EAAE;IACd,KAAAC,UAAU,GAAkB,IAAI;IAChC,KAAAC,qBAAqB,GAAY,KAAK;EAEwC;EAE9EC,QAAQA,CAAA;IACN,MAAMC,MAAM,GAAG,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACrD,IAAIH,MAAM,EAAE;MACV,IAAI,CAACN,WAAW,CAACU,WAAW,CAACJ,MAAM,CAAC,CAACK,SAAS,CAACC,IAAI,IAAG;QACpD,IAAI,CAACV,IAAI,GAAGU,IAAI;MAClB,CAAC,CAAC;;EAEN;EAEAC,YAAYA,CAACC,KAAU;IACrB,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;MACjC,MAAMC,IAAI,GAAGJ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAElC,MAAMG,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,MAAM,GAAG,MAAK;QACnB,IAAI,CAACnB,IAAI,CAACoB,cAAc,GAAIH,MAAM,CAACI,MAAiB,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtE,CAAC;;MACDL,MAAM,CAACM,aAAa,CAACP,IAAI,CAAC;;EAE9B;EAEAQ,QAAQA,CAAA;IACN;IACA;IACA;IACA;IACA;IACA;EAAA;CAEH;AApCY5B,mBAAmB,GAAA6B,UAAA,EAL/B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACWhC,mBAAmB,CAoC/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}