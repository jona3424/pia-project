{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/petri/OneDrive/Desktop/pia projekat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/Restaurant/restaurant.service\";\nimport * as i2 from \"src/app/service/User/user.service\";\nimport * as i3 from \"src/app/service/Reservations/reservations.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction RestauranGuestComponent_tr_59_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const waiter_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(waiter_r3);\n  }\n}\nfunction RestauranGuestComponent_tr_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"ul\");\n    i0.ɵɵtemplate(9, RestauranGuestComponent_tr_59_li_9_Template, 2, 1, \"li\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const restaurant_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(restaurant_r1.restaurantName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(restaurant_r1.restaurantAddress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(restaurant_r1.typeOfRestaurant);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", restaurant_r1.workerNames);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.getRating(restaurant_r1));\n  }\n}\nexport class RestauranGuestComponent {\n  constructor(restaurantService, userService, reservationService) {\n    this.restaurantService = restaurantService;\n    this.userService = userService;\n    this.reservationService = reservationService;\n    this.restaurants = [];\n    this.showingRestaurants = [];\n    this.searchName = '';\n    this.searchAddress = '';\n    this.searchType = '';\n    this.sortField = '';\n    this.sortType = 'asc';\n    this.rating = 3.14;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.restaurants = yield firstValueFrom(_this.restaurantService.getAllRestaurantsWithWorkers());\n      _this.showingRestaurants = [..._this.restaurants];\n    })();\n  }\n  search() {\n    this.showingRestaurants = [];\n    this.restaurants.forEach(restaurant => {\n      if (restaurant.restaurantName.toLowerCase().includes(this.searchName.toLowerCase()) && restaurant.restaurantAddress.toLowerCase().includes(this.searchAddress.toLowerCase()) && restaurant.typeOfRestaurant.toLowerCase().includes(this.searchType.toLowerCase())) {\n        this.showingRestaurants.push(restaurant);\n      }\n    });\n  }\n  reset() {\n    this.showingRestaurants = [...this.restaurants];\n    this.searchName = '';\n    this.searchAddress = '';\n    this.searchType = '';\n    this.sortField = '';\n    this.sortType = 'asc';\n  }\n  sort() {\n    if (this.sortField == 'name') {\n      if (this.sortType == 'asc') {\n        this.showingRestaurants.sort((a, b) => a.restaurantName.localeCompare(b.restaurantName));\n      } else {\n        this.showingRestaurants.sort((a, b) => b.restaurantName.localeCompare(a.restaurantName));\n      }\n    } else if (this.sortField == 'address') {\n      if (this.sortType == 'asc') {\n        this.showingRestaurants.sort((a, b) => a.restaurantAddress.localeCompare(b.restaurantAddress));\n      } else {\n        this.showingRestaurants.sort((a, b) => b.restaurantAddress.localeCompare(a.restaurantAddress));\n      }\n    } else if (this.sortField == 'type') {\n      if (this.sortType == 'asc') {\n        this.showingRestaurants.sort((a, b) => a.typeOfRestaurant.localeCompare(b.typeOfRestaurant));\n      } else {\n        this.showingRestaurants.sort((a, b) => b.typeOfRestaurant.localeCompare(a.typeOfRestaurant));\n      }\n    }\n  }\n  ariaValueText(current, max) {\n    return `${current} out of ${max} hearts`;\n  }\n  getRating(restaurant) {\n    // let sum=0;\n    // restaurant.reviews.forEach(review=>{\n    //   sum+=review.rating;\n    // })\n    // return sum/restaurant.reviews.length;\n  }\n  static #_ = this.ɵfac = function RestauranGuestComponent_Factory(t) {\n    return new (t || RestauranGuestComponent)(i0.ɵɵdirectiveInject(i1.RestaurantService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.ReservationsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RestauranGuestComponent,\n    selectors: [[\"app-restauran-guest\"]],\n    decls: 60,\n    vars: 6,\n    consts: [[1, \"container\"], [1, \"row\", \"g-3\"], [1, \"col-md-4\"], [\"type\", \"text\", \"placeholder\", \"Search by Name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Search by Address\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Search by Type\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", 2, \"margin-top\", \"2%\"], [1, \"col-md-1\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"col-md-2\"], [1, \"col-md-6\"], [1, \"row\", \"g-3\", \"align-items-center\"], [1, \"input-group\"], [\"id\", \"sortField\", 1, \"form-select\", \"form-select-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"asc\"], [\"value\", \"desc\"], [\"value\", \"name\"], [\"value\", \"address\"], [\"value\", \"type\"], [1, \"overflow-auto\"], [1, \"restaurant-list\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"list-unstyled\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-unstyled\"]],\n    template: function RestauranGuestComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Welcome to Our Restaurant System\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function RestauranGuestComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.searchName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function RestauranGuestComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.searchAddress = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function RestauranGuestComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.searchType = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RestauranGuestComponent_Template_button_click_12_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵtext(13, \"Search\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 9)(15, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RestauranGuestComponent_Template_button_click_15_listener() {\n          return ctx.reset();\n        });\n        i0.ɵɵtext(16, \"Reset filter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"div\", 11)(19, \"div\", 2)(20, \"div\", 12)(21, \"select\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function RestauranGuestComponent_Template_select_ngModelChange_21_listener($event) {\n          return ctx.sortType = $event;\n        });\n        i0.ɵɵelementStart(22, \"option\", 14);\n        i0.ɵɵtext(23, \"Select Sort Field\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 15);\n        i0.ɵɵtext(25, \"Ascending\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"option\", 16);\n        i0.ɵɵtext(27, \"Descending\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(28, \"div\", 2)(29, \"div\", 12)(30, \"select\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function RestauranGuestComponent_Template_select_ngModelChange_30_listener($event) {\n          return ctx.sortField = $event;\n        });\n        i0.ɵɵelementStart(31, \"option\", 14);\n        i0.ɵɵtext(32, \"Select Sort Field\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"option\", 17);\n        i0.ɵɵtext(34, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"option\", 18);\n        i0.ɵɵtext(36, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"option\", 19);\n        i0.ɵɵtext(38, \"Type\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(39, \"div\", 7)(40, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function RestauranGuestComponent_Template_button_click_40_listener() {\n          return ctx.sort();\n        });\n        i0.ɵɵtext(41, \"Sort\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(42, \"br\");\n        i0.ɵɵelementStart(43, \"div\", 20)(44, \"div\", 21)(45, \"table\", 22)(46, \"thead\")(47, \"tr\")(48, \"th\");\n        i0.ɵɵtext(49, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"th\");\n        i0.ɵɵtext(51, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"th\");\n        i0.ɵɵtext(53, \"Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"th\");\n        i0.ɵɵtext(55, \"Waiters\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"th\");\n        i0.ɵɵtext(57, \"Rating\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(58, \"tbody\");\n        i0.ɵɵtemplate(59, RestauranGuestComponent_tr_59_Template, 13, 5, \"tr\", 23);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchName);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchAddress);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchType);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.sortType);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.sortField);\n        i0.ɵɵadvance(29);\n        i0.ɵɵproperty(\"ngForOf\", ctx.showingRestaurants);\n      }\n    },\n    dependencies: [i4.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel],\n    styles: [\".overflow-auto[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 400px;\\n    overflow: auto;\\n}\\ntable[_ngcontent-%COMP%]{\\n    width: 100%;\\n    border-collapse: collapse;\\n    text-align: center;\\n}\\n\\n\\n.input-group[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    width: 100%;\\n}\\n\\n.input-group-text[_ngcontent-%COMP%] {\\n    background-color: #f8f9fa;\\n    border: 1px solid #ced4da;\\n    border-radius: 0.25rem 0 0 0.25rem;\\n}\\n\\n.form-select-lg[_ngcontent-%COMP%] {\\n    border: 1px solid #ced4da;\\n    border-radius: 0 0.25rem 0.25rem 0;\\n    padding: 0.375rem 0.75rem;\\n    width: calc(100% ); \\n\\n}\\n\\n\\nheader[_ngcontent-%COMP%] {\\n    background-color: #007bff;\\n    color: white;\\n    padding: 1rem;\\n}\\n\\n.stats[_ngcontent-%COMP%] {\\n    margin: 2rem 0;\\n}\\n.restaurant-list[_ngcontent-%COMP%] {\\n    margin-top: 2rem;\\n}\\n.header-content[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n.website-logo[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n}\\n.website-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    width: 100px;\\n    height: 100px;\\n    margin-right: 10px;\\n    border-radius: 50%;\\n\\n}\\n@font-face {\\n    font-family: \\\"MilestoneBrush\\\";\\n    src: local(\\\"MilestoneBrush\\\"), url('MilestoneBrush.ttf') format(\\\"truetype\\\");\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9yZXN0YXVyYW4tZ3Vlc3QvcmVzdGF1cmFuLWd1ZXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGNBQWM7QUFDbEI7QUFDQTtJQUNJLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsa0JBQWtCO0FBQ3RCOzs7QUFHQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsV0FBVztBQUNmOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6QixrQ0FBa0M7QUFDdEM7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsa0NBQWtDO0lBQ2xDLHlCQUF5QjtJQUN6QixrQkFBa0IsRUFBRSw4QkFBOEI7QUFDdEQ7OztBQUdBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjtBQUNBO0lBQ0ksZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2QjtBQUNBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsa0JBQWtCOztBQUV0QjtBQUNBO0lBQ0ksNkJBQTZCO0lBQzdCLDBFQUF3RjtBQUM1RiIsInNvdXJjZXNDb250ZW50IjpbIi5vdmVyZmxvdy1hdXRvIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiA0MDBweDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcbnRhYmxle1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5cclxuLmlucHV0LWdyb3VwIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5pbnB1dC1ncm91cC10ZXh0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2VkNGRhO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbSAwIDAgMC4yNXJlbTtcclxufVxyXG5cclxuLmZvcm0tc2VsZWN0LWxnIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjZWQ0ZGE7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwIDAuMjVyZW0gMC4yNXJlbSAwO1xyXG4gICAgcGFkZGluZzogMC4zNzVyZW0gMC43NXJlbTtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgKTsgLyogQWRqdXN0IHdpZHRoIHRvIGZpdCBsYWJlbCAqL1xyXG59XHJcblxyXG5cclxuaGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAxcmVtO1xyXG59XHJcblxyXG4uc3RhdHMge1xyXG4gICAgbWFyZ2luOiAycmVtIDA7XHJcbn1cclxuLnJlc3RhdXJhbnQtbGlzdCB7XHJcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xyXG59XHJcbi5oZWFkZXItY29udGVudCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG4ud2Vic2l0ZS1sb2dvIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbi53ZWJzaXRlLWxvZ28gaW1nIHtcclxuICAgIHdpZHRoOiAxMDBweDtcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcblxyXG59XHJcbkBmb250LWZhY2Uge1xyXG4gICAgZm9udC1mYW1pbHk6IFwiTWlsZXN0b25lQnJ1c2hcIjtcclxuICAgIHNyYzogbG9jYWwoXCJNaWxlc3RvbmVCcnVzaFwiKSwgdXJsKC4uLy4uLy4uL2Fzc2V0cy9NaWxlc3RvbmVCcnVzaC50dGYpIGZvcm1hdChcInRydWV0eXBlXCIpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["firstValueFrom","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","waiter_r3","ɵɵtemplate","RestauranGuestComponent_tr_59_li_9_Template","ɵɵelement","restaurant_r1","restaurantName","restaurantAddress","typeOfRestaurant","ɵɵproperty","workerNames","ctx_r0","getRating","RestauranGuestComponent","constructor","restaurantService","userService","reservationService","restaurants","showingRestaurants","searchName","searchAddress","searchType","sortField","sortType","rating","ngOnInit","_this","_asyncToGenerator","getAllRestaurantsWithWorkers","search","forEach","restaurant","toLowerCase","includes","push","reset","sort","a","b","localeCompare","ariaValueText","current","max","_","ɵɵdirectiveInject","i1","RestaurantService","i2","UserService","i3","ReservationsService","_2","selectors","decls","vars","consts","template","RestauranGuestComponent_Template","rf","ctx","ɵɵlistener","RestauranGuestComponent_Template_input_ngModelChange_5_listener","$event","RestauranGuestComponent_Template_input_ngModelChange_7_listener","RestauranGuestComponent_Template_input_ngModelChange_9_listener","RestauranGuestComponent_Template_button_click_12_listener","RestauranGuestComponent_Template_button_click_15_listener","RestauranGuestComponent_Template_select_ngModelChange_21_listener","RestauranGuestComponent_Template_select_ngModelChange_30_listener","RestauranGuestComponent_Template_button_click_40_listener","RestauranGuestComponent_tr_59_Template"],"sources":["C:\\Users\\petri\\OneDrive\\Desktop\\pia projekat\\frontend\\src\\app\\components\\restauran-guest\\restauran-guest.component.ts","C:\\Users\\petri\\OneDrive\\Desktop\\pia projekat\\frontend\\src\\app\\components\\restauran-guest\\restauran-guest.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { firstValueFrom } from 'rxjs';\nimport { RecentReservations } from 'src/app/response/RecentReservations';\nimport { RestaurantsWithWorkers } from 'src/app/response/RestaurantsWithWorkers';\nimport { ReservationsService } from 'src/app/service/Reservations/reservations.service';\nimport { RestaurantService } from 'src/app/service/Restaurant/restaurant.service';\nimport { UserService } from 'src/app/service/User/user.service';\n\n@Component({\n  selector: 'app-restauran-guest',\n  templateUrl: './restauran-guest.component.html',\n  styleUrls: ['./restauran-guest.component.css']\n})\nexport class RestauranGuestComponent {\n\n  restaurants: Array<RestaurantsWithWorkers>= [];\n  showingRestaurants: Array<RestaurantsWithWorkers>= [];\n  searchName: string = '';\n  searchAddress: string = '';\n  searchType: string = '';\n  sortField: string = '';\n  sortType: string = 'asc';\n  constructor( private restaurantService : RestaurantService,private userService:UserService,private reservationService:ReservationsService) { }\n\n  async ngOnInit() {  \n    this.restaurants=await firstValueFrom( this.restaurantService.getAllRestaurantsWithWorkers()) as Array<RestaurantsWithWorkers>\n    this.showingRestaurants = [...this.restaurants];\n\n  }\n\n\n\n  search(): void {\n    this.showingRestaurants = [];\n    this.restaurants.forEach(restaurant => {\n      if (restaurant.restaurantName.toLowerCase().includes(this.searchName.toLowerCase()) &&\n          restaurant.restaurantAddress.toLowerCase().includes(this.searchAddress.toLowerCase()) &&\n          restaurant.typeOfRestaurant.toLowerCase().includes(this.searchType.toLowerCase())) {\n        this.showingRestaurants.push(restaurant);\n      }\n    });\n\n  }\n  reset(): void {\n    this.showingRestaurants = [...this.restaurants];\n    this.searchName = '';\n    this.searchAddress = '';\n    this.searchType = '';\n    this.sortField = '';\n    this.sortType = 'asc';\n  }\n\n  sort(){\n    if(this.sortField=='name'){\n      if(this.sortType=='asc'){\n        this.showingRestaurants.sort((a,b)=>a.restaurantName.localeCompare(b.restaurantName))\n      }else{\n        this.showingRestaurants.sort((a,b)=>b.restaurantName.localeCompare(a.restaurantName))\n      }\n    }else if(this.sortField=='address'){\n      if(this.sortType=='asc'){\n        this.showingRestaurants.sort((a,b)=>a.restaurantAddress.localeCompare(b.restaurantAddress))\n      }else{\n        this.showingRestaurants.sort((a,b)=>b.restaurantAddress.localeCompare(a.restaurantAddress))\n      }\n    }else if(this.sortField=='type'){\n      if(this.sortType=='asc'){\n        this.showingRestaurants.sort((a,b)=>a.typeOfRestaurant.localeCompare(b.typeOfRestaurant))\n      }else{\n        this.showingRestaurants.sort((a,b)=>b.typeOfRestaurant.localeCompare(a.typeOfRestaurant))\n      }\n    }\n  }\n\n  ariaValueText(current: number, max: number) {\n\t\treturn `${current} out of ${max} hearts`;\n\t}\n  rating = 3.14;\n\n  \n  getRating(restaurant:RestaurantsWithWorkers){\n    // let sum=0;\n    // restaurant.reviews.forEach(review=>{\n    //   sum+=review.rating;\n    // })\n    // return sum/restaurant.reviews.length;\n  }\n}\n","<!-- home-unregistered.component.html -->\n<div class=\"container\">\n    <h2>Welcome to Our Restaurant System</h2>\n    <div class=\"row g-3\">\n        <div class=\"col-md-4\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by Name\" [(ngModel)]=\"searchName\">\n        </div>\n        <div class=\"col-md-4\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by Address\" [(ngModel)]=\"searchAddress\">\n        </div>\n        <div class=\"col-md-4\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by Type\" [(ngModel)]=\"searchType\">\n        </div>\n    </div>\n    <div class=\"row\" style=\"margin-top: 2%;\">\n        <div class=\"col-md-1\">\n            <button class=\"btn btn-primary\" (click)=\"search()\">Search</button>\n        </div>\n        <div class=\"col-md-2\">\n            <button class=\"btn btn-primary\" (click)=\"reset()\">Reset filter</button>\n        </div>\n        <div class=\"col-md-6\">\n            <div class=\"row g-3 align-items-center\">\n                <div class=\"col-md-4\">\n                    <div class=\"input-group\">\n                        <select class=\"form-select form-select-lg\" id=\"sortField\" [(ngModel)]=\"sortType\">\n                            <option value=\"\" disabled selected>Select Sort Field</option>\n                            <option value=\"asc\">Ascending</option>\n                            <option value=\"desc\">Descending</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-md-4\">\n                    <div class=\"input-group\">\n                        <select class=\"form-select form-select-lg\" id=\"sortField\" [(ngModel)]=\"sortField\">\n                            <option value=\"\" disabled selected>Select Sort Field</option>\n                            <option value=\"name\">Name</option>\n                            <option value=\"address\">Address</option>\n                            <option value=\"type\">Type</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-md-1\">\n                    <button class=\"btn btn-primary\" (click)=\"sort()\">Sort</button>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    <br>\n    <div class=\"overflow-auto\">\n        <div class=\"restaurant-list\">\n        <table class=\"table\">\n            <thead>\n            <tr>\n                <th>Name</th>\n                <th >Address</th>\n                <th >Type</th>\n                <th>Waiters</th>\n                <th>Rating</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr *ngFor=\"let restaurant of showingRestaurants\">\n                <td>{{restaurant.restaurantName}}</td>\n                <td>{{restaurant.restaurantAddress}}</td>\n                <td>{{restaurant.typeOfRestaurant}}</td>\n                <td>\n                <ul>\n                    <li class=\"list-unstyled\" *ngFor=\"let waiter of restaurant.workerNames\">{{waiter}}</li>\n                </ul>\n                </td>\n                <td>{{getRating(restaurant)}}<br>\n                    <!-- <ngb-rating [(rate)]=\"rating\"  [readonly]=\"true\" [max]=\"5\" [ariaValueText]=\"ariaValueText\" /> -->\n\n                </td>\n            </tr>\n            </tbody>\n        </table>\n        </div>\n    </div>\n  </div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}